---
phase: 10-summary-frontmatter-backfill
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - .planning/phases/02-protocol-interface/02-01-SUMMARY.md
  - .planning/phases/02-protocol-interface/02-02-SUMMARY.md
  - .planning/phases/03-ftp-ftps/03-01-SUMMARY.md
  - .planning/phases/04-sftp/04-01-SUMMARY.md
  - .planning/phases/08-fix-rpc-ftp-sftp-handlers/08-01-SUMMARY.md
autonomous: true
requirements: [PROTO-01, PROTO-03, SFTP-04, SFTP-06, RPC-06, RPC-11]

must_haves:
  truths:
    - "PROTO-01 appears in requirements-completed of at least 3 SUMMARY files (02-01, 02-02, 03-01)"
    - "PROTO-03 appears in requirements-completed of at least 3 SUMMARY files (02-01, 02-02, 03-01)"
    - "SFTP-06 appears in requirements-completed of at least 3 SUMMARY files (04-01, 04-02, 06-01)"
    - "RPC-06 appears in requirements-completed of at least 3 SUMMARY files (06-02, 08-01, 09-01)"
    - "SFTP-04 still appears in at least 3 SUMMARY files (04-01, 04-03, 06-01 — no regression)"
    - "RPC-11 still appears in at least 4 SUMMARY files (05-03, 06-02, 08-01, 09-01 — no regression)"
    - "All 6 target SUMMARY files (02-01, 02-02, 04-01, 04-02, 04-03, 06-01) have requirements-completed in YAML frontmatter"
    - "Zero YAML syntax errors in edited frontmatter"
  artifacts:
    - ".planning/phases/02-protocol-interface/02-01-SUMMARY.md with requirements-completed: [PROTO-01, PROTO-02, PROTO-03]"
    - ".planning/phases/02-protocol-interface/02-02-SUMMARY.md with requirements-completed: [PROTO-01, PROTO-03]"
    - ".planning/phases/03-ftp-ftps/03-01-SUMMARY.md with requirements-completed: [PROTO-01, PROTO-03, FTP-01, FTP-02, FTP-03, FTP-04, FTP-05, FTP-06, FTP-07, FTP-08]"
    - ".planning/phases/04-sftp/04-01-SUMMARY.md with requirements-completed: [SFTP-01, SFTP-02, SFTP-03, SFTP-04, SFTP-05, SFTP-06, SFTP-07, SFTP-08, SFTP-09]"
    - ".planning/phases/08-fix-rpc-ftp-sftp-handlers/08-01-SUMMARY.md with requirements-completed: [RPC-05, RPC-06, RPC-11]"
  key_links:
    - "Each added requirement ID is justified by actual implementation work recorded in that SUMMARY's Accomplishments/Deviations"
    - "No requirement IDs removed or reordered from existing arrays"
---

<objective>
Add missing requirement IDs to `requirements-completed` YAML frontmatter in 5 SUMMARY files so every v1 requirement has 3+ source cross-reference coverage.

Purpose: Close the documentation tech debt where PROTO-01, PROTO-03, SFTP-06, and RPC-06 each appear in fewer than 3 SUMMARY frontmatter entries. All four requirements are fully implemented in code; the SUMMARY files simply omitted them from their `requirements-completed` arrays. PROTO-01 and PROTO-03 each need a 3rd source beyond 02-01/02-02; 03-01-SUMMARY.md (FTP implementation) is the strongest candidate because FTP is the first concrete protocol exercising the protocol-agnostic interface (PROTO-01) and depends on the GOB-serialized Protocol field (PROTO-03) for correct dispatch.

Output: 5 edited SUMMARY.md files with corrected frontmatter arrays. No code changes. No new files.
</objective>

<execution_context>
@/Users/divkix/.claude/get-shit-done/workflows/execute-plan.md
@/Users/divkix/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/10-summary-frontmatter-backfill/10-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Edit 5 SUMMARY frontmatter arrays to close 3-source coverage gaps</name>
  <files>
    .planning/phases/02-protocol-interface/02-01-SUMMARY.md
    .planning/phases/02-protocol-interface/02-02-SUMMARY.md
    .planning/phases/03-ftp-ftps/03-01-SUMMARY.md
    .planning/phases/04-sftp/04-01-SUMMARY.md
    .planning/phases/08-fix-rpc-ftp-sftp-handlers/08-01-SUMMARY.md
  </files>
  <action>
Edit the `requirements-completed` YAML frontmatter line in each of the 5 files below. Use the Edit tool for each change. Preserve the existing inline array format `[ID1, ID2, ID3]` with no trailing comma, no newlines inside the array.

**File 1: `.planning/phases/02-protocol-interface/02-01-SUMMARY.md` (line 56)**
- Current: `requirements-completed: [PROTO-01, PROTO-02]`
- Change to: `requirements-completed: [PROTO-01, PROTO-02, PROTO-03]`
- Justification: Plan 02-01 introduced the `Protocol` type alongside the ProtocolDownloader interface. The `ProtoHTTP=0` iota decision was made in 02-01 context. Both 02-01 and 02-02 co-deliver PROTO-03 (GOB backward compat via zero-value Protocol).

**File 2: `.planning/phases/02-protocol-interface/02-02-SUMMARY.md` (line 57)**
- Current: `requirements-completed: [PROTO-03]`
- Change to: `requirements-completed: [PROTO-01, PROTO-03]`
- Justification: The Protocol enum (PROTO-03's type) directly enables PROTO-01's protocol-agnostic dispatch. Without `Protocol` in Item, the interface cannot dispatch correctly. Plan 02-02 is a co-implementation of PROTO-01.

**File 3: `.planning/phases/03-ftp-ftps/03-01-SUMMARY.md` (line 30)**
- Current: `requirements-completed: [FTP-01, FTP-02, FTP-03, FTP-04, FTP-05, FTP-06, FTP-07, FTP-08]`
- Change to: `requirements-completed: [PROTO-01, PROTO-03, FTP-01, FTP-02, FTP-03, FTP-04, FTP-05, FTP-06, FTP-07, FTP-08]`
- Justification: Plan 03-01 implemented ftpProtocolDownloader — the first concrete protocol exercising the ProtocolDownloader interface (PROTO-01). FTP items are stored via GOB with the Protocol field identifying them as FTP (PROTO-03). The 03-01-SUMMARY explicitly documents: "Implemented ftpProtocolDownloader satisfying ProtocolDownloader interface with compile-time check" and registers ftp/ftps in SchemeRouter. Without PROTO-01 and PROTO-03, FTP cannot dispatch or persist correctly. This is the 3rd source for both PROTO-01 and PROTO-03 (alongside 02-01 and 02-02).

**File 4: `.planning/phases/04-sftp/04-01-SUMMARY.md` (line 52)**
- Current: `requirements-completed: [SFTP-01, SFTP-02, SFTP-03, SFTP-04, SFTP-05, SFTP-07, SFTP-08, SFTP-09]`
- Change to: `requirements-completed: [SFTP-01, SFTP-02, SFTP-03, SFTP-04, SFTP-05, SFTP-06, SFTP-07, SFTP-08, SFTP-09]`
- Justification: The 04-01-SUMMARY explicitly documents: "Resume fully implemented in 04-01 since pattern mirrors FTP exactly" and "Deviation: Plan specified Resume as stub returning 'not yet implemented' for 04-02 — Fix: Implemented full Resume since it's identical to FTP pattern." SFTP-06 (resume via Seek offset) was implemented in 04-01, not deferred. Its omission from requirements-completed is an error.

**File 5: `.planning/phases/08-fix-rpc-ftp-sftp-handlers/08-01-SUMMARY.md` (line 40)**
- Current: `requirements-completed: [RPC-05, RPC-11]`
- Change to: `requirements-completed: [RPC-05, RPC-06, RPC-11]`
- Justification: Phase 8 established the correct handler-wiring pattern for protocol downloads in RPC (downloadAdd). Phase 9 applied the same pattern to downloadResume. Both phases together complete RPC-06's "download.pause and download.resume methods control active downloads". Phase 8 proved the infrastructure works; Phase 9 applied it to resume. 08-01 is a legitimate co-contributor to RPC-06.

**DO NOT edit any other files.** The remaining target files (04-02-SUMMARY.md, 04-03-SUMMARY.md, 06-01-SUMMARY.md) already have correct frontmatter and need no changes. The success criterion is 3+ source coverage per requirement, not "edit exactly N files."
  </action>
  <verify>
    <automated>cd /Users/divkix/GitHub/warpdl/.claude/worktrees/issues-fix && for req in PROTO-01 PROTO-03 SFTP-04 SFTP-06 RPC-06 RPC-11; do count=$(grep -rl "requirements-completed:.*$req" .planning/phases/*/[0-9]*-SUMMARY.md 2>/dev/null | wc -l | tr -d ' '); echo "$req: $count sources (need ≥3)"; if [ "$count" -lt 3 ]; then echo "FAIL: $req has only $count sources"; exit 1; fi; done && echo "ALL PASS: Every requirement has 3+ sources"</automated>
  </verify>
  <done>
    - 02-01-SUMMARY.md requirements-completed is `[PROTO-01, PROTO-02, PROTO-03]`
    - 02-02-SUMMARY.md requirements-completed is `[PROTO-01, PROTO-03]`
    - 03-01-SUMMARY.md requirements-completed is `[PROTO-01, PROTO-03, FTP-01, FTP-02, FTP-03, FTP-04, FTP-05, FTP-06, FTP-07, FTP-08]`
    - 04-01-SUMMARY.md requirements-completed is `[SFTP-01, SFTP-02, SFTP-03, SFTP-04, SFTP-05, SFTP-06, SFTP-07, SFTP-08, SFTP-09]`
    - 08-01-SUMMARY.md requirements-completed is `[RPC-05, RPC-06, RPC-11]`
    - Verification script prints "ALL PASS" confirming every phase-scoped requirement has 3+ SUMMARY sources
  </done>
</task>

<task type="auto">
  <name>Task 2: Audit all 6 target SUMMARY files and confirm 0 missing entries</name>
  <files>
    .planning/phases/02-protocol-interface/02-01-SUMMARY.md
    .planning/phases/02-protocol-interface/02-02-SUMMARY.md
    .planning/phases/04-sftp/04-01-SUMMARY.md
    .planning/phases/04-sftp/04-02-SUMMARY.md
    .planning/phases/04-sftp/04-03-SUMMARY.md
    .planning/phases/06-fix-integration-defects/06-01-SUMMARY.md
  </files>
  <action>
Read all 6 target SUMMARY files named in the phase description (02-01, 02-02, 04-01, 04-02, 04-03, 06-01) and confirm each has a valid `requirements-completed` line in its YAML frontmatter. Then run the full 3-source cross-reference audit for ALL 36 v1 requirements.

Steps:
1. Read each of the 6 target files and verify the `requirements-completed` field exists and has valid YAML syntax (inline array, no trailing comma).
2. Run a comprehensive audit: for each of the 36 v1 requirement IDs (REDIR-01 through REDIR-04, PROTO-01 through PROTO-03, FTP-01 through FTP-08, SFTP-01 through SFTP-09, RPC-01 through RPC-12), count how many SUMMARY files include it in their `requirements-completed` array.
3. Confirm zero requirements have fewer than 3 sources.
4. If any requirement has fewer than 3 sources, report it as a finding but do NOT edit files (Task 1 scope covers the 5 edits; any additional gaps are out of scope for Phase 10).

This task verifies the success criteria but does not make changes. It reads files and produces an audit report.
  </action>
  <verify>
    <automated>cd /Users/divkix/GitHub/warpdl/.claude/worktrees/issues-fix && for file in .planning/phases/02-protocol-interface/02-01-SUMMARY.md .planning/phases/02-protocol-interface/02-02-SUMMARY.md .planning/phases/04-sftp/04-01-SUMMARY.md .planning/phases/04-sftp/04-02-SUMMARY.md .planning/phases/04-sftp/04-03-SUMMARY.md .planning/phases/06-fix-integration-defects/06-01-SUMMARY.md; do if grep -q "^requirements-completed:" "$file"; then echo "OK: $file has requirements-completed"; else echo "FAIL: $file missing requirements-completed"; exit 1; fi; done && echo "ALL 6 TARGET FILES VERIFIED"</automated>
  </verify>
  <done>
    - All 6 target SUMMARY files (02-01, 02-02, 04-01, 04-02, 04-03, 06-01) confirmed to have `requirements-completed` in YAML frontmatter
    - Full 36-requirement audit shows 0 requirements with fewer than 3 SUMMARY sources
    - Audit report produced confirming 3-source cross-reference coverage is complete
  </done>
</task>

</tasks>

<verification>
1. Run the 6-requirement verification script (PROTO-01, PROTO-03, SFTP-04, SFTP-06, RPC-06, RPC-11) — all must show 3+ sources
2. Run the 6-file existence check — all must have `requirements-completed` in frontmatter
3. Confirm no YAML syntax errors by checking that each `requirements-completed` line matches the pattern `requirements-completed: \[.*\]`
4. Confirm no files outside the 5 targets were modified (git diff should show exactly 5 files changed)
</verification>

<success_criteria>
- PROTO-01 has 3+ SUMMARY sources (was 1, now 3 via 02-01+02-02+03-01)
- PROTO-03 has 3+ SUMMARY sources (was 1, now 3 via 02-01+02-02+03-01)
- SFTP-06 has 3+ SUMMARY sources (was 2, now 3 via 04-01+04-02+06-01)
- RPC-06 has 3+ SUMMARY sources (was 2, now 3 via 06-02+08-01+09-01)
- SFTP-04 still has 3+ sources (no regression)
- RPC-11 still has 4+ sources (no regression)
- All 6 named SUMMARY files have `requirements-completed` in frontmatter
- Zero YAML syntax errors in edited files
</success_criteria>

<output>
After completion, create `.planning/phases/10-summary-frontmatter-backfill/10-01-SUMMARY.md`
</output>
