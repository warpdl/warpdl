---
title: Windows Troubleshooting
description: Common issues and solutions on Windows
---

## Named Pipes Connection Issues

If WarpDL can't connect to the daemon:

```powershell
# Force TCP mode
$env:WARPDL_FORCE_TCP = "1"
warpdl list
```

## Windows Firewall Configuration

WarpDL daemon uses **TCP port 3849** for CLI-to-daemon communication when named pipes are unavailable. On first run, Windows may prompt to allow network access.

### Recommended Firewall Settings

When prompted by Windows Firewall:
- **Private networks**: ✓ Allow (for home/work networks)
- **Public networks**: ✗ Deny (optional, localhost-only communication)

### Manual Firewall Rule

If you missed the prompt or need to reconfigure, first find your WarpDL executable path:

```powershell
# Find WarpDL executable location
Get-Command warpdl | Select-Object -ExpandProperty Source

# If warpdl is not in PATH, locate it manually (common locations):
# - C:\Program Files\warpdl\warpdl.exe (Scoop/manual install)
# - C:\Users\<YourUsername>\scoop\apps\warpdl\current\warpdl.exe (Scoop user install)
```

Then create the firewall rule:

#### Using PowerShell (Recommended)
```powershell
# Replace C:\path\to\warpdl.exe with your actual path from above
New-NetFirewallRule -DisplayName "WarpDL Daemon" `
  -Direction Inbound `
  -Program "C:\path\to\warpdl.exe" `
  -Action Allow `
  -Profile Private `
  -Description "Allow WarpDL daemon communication on port 3849"
```

#### Using netsh (Alternative)
```powershell
# Replace C:\path\to\warpdl.exe with your actual path
netsh advfirewall firewall add rule name="WarpDL Daemon" `
  dir=in action=allow program="C:\path\to\warpdl.exe" profile=private
```

#### Using Windows Defender Firewall GUI

1. Open **Windows Defender Firewall with Advanced Security**
2. Click **Inbound Rules** → **New Rule...**
3. Select **Program** → Next
4. Browse to `warpdl.exe` location (use `Get-Command warpdl` in PowerShell to find it) → Next
5. Select **Allow the connection** → Next
6. Check **Private** only → Next
7. Name: "WarpDL Daemon" → Finish

### Verifying Firewall Rules

```powershell
# Check if rule exists
Get-NetFirewallRule -DisplayName "WarpDL*"

# Remove rule if needed
Remove-NetFirewallRule -DisplayName "WarpDL Daemon"
```

## Antivirus Configuration

Download managers are commonly flagged as suspicious due to parallel connections and network activity. If WarpDL is blocked or quarantined, add exclusions for:

### Recommended Exclusions

- **Configuration directory**: `%LOCALAPPDATA%\warpdl\` (typically `C:\Users\YourUsername\AppData\Local\warpdl\`)
- **Executable path**: Full path to `warpdl.exe` (use `Get-Command warpdl` to find it, or check common locations like `C:\Program Files\warpdl\warpdl.exe`)

### Windows Defender Exclusions

#### Using Windows Security GUI

1. Open **Windows Security** (Start → Settings → Privacy & Security → Windows Security)
2. Go to **Virus & threat protection**
3. Under "Virus & threat protection settings", click **Manage settings**
4. Scroll to **Exclusions** → Click **Add or remove exclusions**
5. Click **Add an exclusion** → Select type:
   - **Folder**: Add the full path like `C:\Users\YourUsername\AppData\Local\warpdl` (replace `YourUsername` with your actual Windows username, or use `$env:USERNAME` in PowerShell; Windows Security may not accept the `%LOCALAPPDATA%` variable directly)
   - **File**: Add full path to `warpdl.exe` (use `Get-Command warpdl` in PowerShell to find it)

#### Using PowerShell

```powershell
# Add folder exclusion for config directory
Add-MpPreference -ExclusionPath "$env:LOCALAPPDATA\warpdl"

# Add process exclusion
Add-MpPreference -ExclusionProcess "warpdl.exe"

# Verify exclusions
Get-MpPreference | Select-Object -ExpandProperty ExclusionPath
```

### Other Antivirus Software

For third-party antivirus programs (Norton, McAfee, Avast, Kaspersky, etc.):

1. Open your antivirus control panel
2. Navigate to **Exclusions**, **Exceptions**, or **Whitelist** settings
3. Add the paths and executable mentioned above
4. Restart WarpDL daemon after adding exclusions

**Note**: Specific steps vary by antivirus vendor. Consult your antivirus documentation for detailed instructions.

## Windows SmartScreen

Windows SmartScreen may display "Windows protected your PC" warning when running unsigned or less commonly downloaded executables.

### Understanding SmartScreen

- **Official releases**: Signed builds from the [Releases page](https://github.com/warpdl/warpdl/releases) should not trigger warnings
- **Development/snapshot builds**: May trigger SmartScreen due to lack of code signing
- **Direct downloads**: Executables not downloaded through official channels may be flagged

### Bypassing SmartScreen Warning

If you see the "Windows protected your PC" dialog:

1. **Click "More info"** - This reveals additional options
2. **Click "Run anyway"** - Allows the application to execute
3. Windows will remember your choice for this specific file

### Alternative: Using PowerShell

```powershell
# Unblock downloaded file (removes Mark-of-the-Web)
# Replace path with your actual warpdl.exe location from Get-Command warpdl
Unblock-File -Path "C:\Program Files\warpdl\warpdl.exe"
```

### Preventing SmartScreen Warnings

- **Use official releases**: Download from [GitHub Releases](https://github.com/warpdl/warpdl/releases) or via package managers (Scoop)
- **Build from source**: Compile locally to avoid download flags
- **Wait for reputation**: SmartScreen learns from usage patterns over time

**Security Note**: Only bypass SmartScreen for executables from trusted sources. Verify file hashes from the official repository if uncertain.

## Long Path Support

WarpDL supports paths longer than 260 characters on Windows 10+. Ensure long paths are enabled:

```powershell
# Check current setting
(Get-ItemProperty -Path 'HKLM:\SYSTEM\CurrentControlSet\Control\FileSystem' -Name 'LongPathsEnabled').LongPathsEnabled

# Enable (requires admin)
Set-ItemProperty -Path 'HKLM:\SYSTEM\CurrentControlSet\Control\FileSystem' -Name 'LongPathsEnabled' -Value 1
```

## Windows Service Issues

If the Windows service fails to start:

```powershell
# Check event log
Get-EventLog -LogName Application -Source "WarpDL" -Newest 10
```
